<!DOCTYPE html>
<html lang=en>
<head>
    <!-- so meta -->
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="HandheldFriendly" content="True">
    <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
    <meta name="description" content="å¤ªé˜³ç³»è½¨é“ä¸é£è¡Œæ¨¡æ‹Ÿå™¨           body {       margin: 0;       overflow: hidden;       background-color: #050505;       color: white;       font-family: &#39;Segoe UI&#39;, Tahoma, Geneva, Verdana, sans-seri">
<meta property="og:type" content="website">
<meta property="og:title" content="Sydeny">
<meta property="og:url" content="http://example.com/solar_system_viz.html">
<meta property="og:site_name" content="Sydeny">
<meta property="og:description" content="å¤ªé˜³ç³»è½¨é“ä¸é£è¡Œæ¨¡æ‹Ÿå™¨           body {       margin: 0;       overflow: hidden;       background-color: #050505;       color: white;       font-family: &#39;Segoe UI&#39;, Tahoma, Geneva, Verdana, sans-seri">
<meta property="og:locale" content="en_US">
<meta property="article:published_time" content="2025-11-29T03:03:06.647Z">
<meta property="article:modified_time" content="2025-11-29T03:03:06.647Z">
<meta property="article:author" content="Sydeny">
<meta name="twitter:card" content="summary">
    
    
        
          
              <link rel="shortcut icon" href="/images/favicon_my.ico">
          
        
        
          
            <link rel="icon" type="image/png" href="/images/favicon_my.png" sizes="192x192">
          
        
        
          
            <link rel="apple-touch-icon" sizes="180x180" href="/images/favicon_my.png">
          
        
    
    <!-- title -->
    <title>Sydeny</title>
    <!-- styles -->
    
<link rel="stylesheet" href="/css/style.css">

    <!-- rss -->
    
    
<meta name="generator" content="Hexo 6.1.0"></head>

<body>
    
    
    <div class="content index width mx-auto px2 my4">
        
          <header id="header">
  <a href="/">
  
    
      <div id="logo" style="background-image: url(/images/my-logo.png);"></div>
    
  
    <div id="title">
      <h1>Sydeny</h1>
    </div>
  </a>
  <div id="nav">
    <ul>
      <li class="icon">
        <a href="#"><i class="fa fa-bars fa-2x"></i></a>
      </li>
       
        <li><a href="/">Home</a></li>
       
        <li><a href="/categories/">Category</a></li>
       
        <li><a href="/about/">About</a></li>
      
    </ul>
  </div>
</header>

        
        <article class="post" itemscope itemtype="http://schema.org/BlogPosting">
  
  

  <div class="content" itemprop="articleBody">
    <!DOCTYPE html>
<html lang="zh-CN">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>å¤ªé˜³ç³»è½¨é“ä¸é£è¡Œæ¨¡æ‹Ÿå™¨</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <style>
    body {
      margin: 0;
      overflow: hidden;
      background-color: #050505;
      color: white;
      font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
    }

    #canvas-container {
      position: relative;
      width: 100vw;
      height: 100vh;
    }

    canvas {
      display: block;
    }

    .ui-panel {
      position: absolute;
      top: 20px;
      left: 20px;
      background: rgba(20, 20, 30, 0.9);
      padding: 20px;
      border-radius: 12px;
      border: 1px solid #555;
      backdrop-filter: blur(10px);
      max-width: 380px;
      max-height: 95vh;
      overflow-y: auto;
      box-shadow: 0 10px 40px rgba(0, 0, 0, 0.8);
      z-index: 100;
    }

    .legend-dot {
      width: 12px;
      height: 12px;
      display: inline-block;
      border-radius: 50%;
      margin-right: 8px;
    }

    .btn {
      background: linear-gradient(to bottom right, #2563eb, #1d4ed8);
      color: white;
      border: none;
      padding: 8px 12px;
      border-radius: 8px;
      cursor: pointer;
      width: 100%;
      margin-top: 8px;
      font-weight: bold;
      font-size: 0.9em;
      transition: all 0.2s;
      box-shadow: 0 4px 6px rgba(0, 0, 0, 0.3);
      text-align: left;
      display: flex;
      justify-content: space-between;
      align-items: center;
    }

    .btn:hover {
      transform: translateY(-2px);
      box-shadow: 0 6px 12px rgba(0, 0, 0, 0.4);
    }

    .btn:active {
      transform: translateY(0);
    }

    .btn:disabled {
      background: #374151;
      cursor: not-allowed;
      transform: none;
      opacity: 0.6;
      box-shadow: none;
      color: #9ca3af;
    }

    .timer-display {
      font-family: 'Courier New', Courier, monospace;
      background: #111;
      border: 1px solid #333;
      padding: 10px;
      border-radius: 6px;
      margin-top: 15px;
      text-align: center;
      color: #00ff00;
      font-size: 1.2em;
      text-shadow: 0 0 5px rgba(0, 255, 0, 0.5);
    }

    .flight-info {
      font-size: 0.8em;
      color: #aaa;
      margin-top: 5px;
      text-align: center;
      line-height: 1.4;
    }

    /* é’ˆå¯¹ Tailwind çš„å¤é€‰æ¡†æ ·å¼è°ƒæ•´ */
    .form-checkbox {
      appearance: none;
      cursor: pointer;
    }

    .form-checkbox:checked {
      background-color: #4f46e5;
      border-color: #4f46e5;
      background-image: url("data:image/svg+xml,%3csvg viewBox='0 0 16 16' fill='white' xmlns='http://www.w3.org/2000/svg'%3e%3cpath d='M12.207 4.793a1 1 0 010 1.414l-5 5a1 1 0 01-1.414 0l-2-2a1 1 0 011.414-1.414L6.5 9.086l4.293-4.293a1 1 0 011.414 0z'/%3e%3c/svg%3e");
    }
  </style>
</head>

<body>

  <div id="canvas-container">
    <canvas id="orbitCanvas"></canvas>

    <div class="ui-panel">
      <h2 class="text-xl font-bold mb-2 text-white border-b border-gray-700 pb-2">ğŸš€ åœ°çƒå‘å°„è‡³è¡Œæ˜Ÿè½¬ç§»æ¨¡æ‹Ÿ</h2>
      <p class="text-xs text-gray-400 mb-4">
        æ¨¡æ‹Ÿéœæ›¼è½¬ç§»è½¨é“ã€‚å–æ¶ˆå‹¾é€‰è¿œè·ç¦»è¡Œæ˜Ÿå°†è‡ªåŠ¨æ”¾å¤§è½¨é“æ¯”ä¾‹å°ºã€‚
      </p>

      <!-- è¡Œæ˜Ÿé€‰æ‹©ä¸æ§åˆ¶åŒºåŸŸ -->
      <div id="planet-controls" class="space-y-1 text-sm mb-4">
        <p class="font-semibold text-gray-400 border-b border-gray-700 pb-1">é€‰æ‹©è¦æ˜¾ç¤ºçš„è¡Œæ˜Ÿ (è½¨é“å’ŒæŒ‰é’®)</p>
        <!-- è¿è¡Œæ—¶å¡«å…… -->
      </div>

      <!-- ä»»åŠ¡æŒ‰é’® -->
      <div id="launch-buttons" class="space-y-2">
        <!-- è¿è¡Œæ—¶å¡«å…… -->
      </div>

      <div class="timer-display" id="time-counter">T+ 00å¤©</div>
      <div class="flight-info" id="flight-status">
        ç­‰å¾…å‘å°„æŒ‡ä»¤...<br>
        <span style="font-size:0.9em; color:#666">ï¼ˆæ³¨ï¼šæ¨¡æ‹Ÿä»…ä¾›ç¤ºæ„ï¼Œä¸å«å¼•åŠ›åŠ©æ¨ï¼‰</span>
      </div>

      <!-- å½“å‰æ¢æµ‹å™¨çŠ¶æ€æ—¥å¿— -->
      <div id="mission-status-log" class="mt-4 p-3 bg-gray-900 border border-indigo-700 rounded-lg text-sm">
        <p class="font-semibold text-indigo-300 mb-1">å½“å‰æ¢æµ‹å™¨çŠ¶æ€:</p>
        <p id="probe-status-text" class="text-gray-400">æ— æ´»åŠ¨ä»»åŠ¡ã€‚</p>
      </div>

    </div>
  </div>

  <script>
    (function () {
      // è·å–Canvaså…ƒç´ åŠå…¶2Dä¸Šä¸‹æ–‡
      const canvas = document.getElementById('orbitCanvas');
      const ctx = canvas.getContext('2d');

      // è¡Œæ˜Ÿæ•°æ®ï¼šr: åŠå¾„ (AU), color: é¢œè‰², size: å¤§å° (åƒç´ ), speed: è§†è§‰è§’é€Ÿåº¦ï¼ˆç›¸å¯¹åœ°çƒï¼‰, angle: åˆå§‹è§’åº¦, name: åç§°, launchTime: é¢„è®¡é£è¡Œæ—¶é—´ï¼ˆå¤©ï¼‰
      // r å­—æ®µç°åœ¨å­˜å‚¨çš„æ˜¯ AU å€¼ï¼Œè€Œä¸æ˜¯åƒç´ å€¼
      const ORBITS = {
        mercury: { r: 0.39, color: '#b5a37e', size: 3, speed: 0.8 * 1.60, angle: 1.0, name: 'æ°´æ˜Ÿ', launchTime: 100 },
        venus: { r: 0.72, color: '#f59e0b', size: 4, speed: 0.8 * 1.18, angle: 2.5, name: 'é‡‘æ˜Ÿ', launchTime: 140 },
        earth: { r: 1.00, color: '#3b82f6', size: 5, speed: 0.8 * 1.00, angle: 0.0, name: 'åœ°çƒ', launchTime: 0 },
        mars: { r: 1.52, color: '#ef4444', size: 4, speed: 0.8 * 0.81, angle: 1.5, name: 'ç«æ˜Ÿ', launchTime: 220 },
        jupiter: { r: 5.20, color: '#d97706', size: 12, speed: 0.8 * 0.44, angle: 3.5, name: 'æœ¨æ˜Ÿ', launchTime: 800 },
        saturn: { r: 9.58, color: '#d4aa7c', size: 10, speed: 0.8 * 0.32, angle: 4.5, name: 'åœŸæ˜Ÿ', launchTime: 1800 },
        uranus: { r: 19.23, color: '#a3f2f0', size: 8, speed: 0.8 * 0.23, angle: 5.0, name: 'å¤©ç‹æ˜Ÿ', launchTime: 3000 },
        neptune: { r: 30.10, color: '#4f46e5', size: 8, speed: 0.8 * 0.18, angle: 6.0, name: 'æµ·ç‹æ˜Ÿ', launchTime: 4500 }
      };

      // çŠ¶æ€å˜é‡
      let probes = []; // å‚¨å­˜å‘å°„çš„æ¢æµ‹å™¨
      let w, h, cx, cy; // å®½é«˜å’Œä¸­å¿ƒåæ ‡
      let planetVisibility = {}; // è·Ÿè¸ªè¡Œæ˜Ÿçš„å¯è§çŠ¶æ€ (key -> boolean)
      let currentMaxAU = 30.10; // å½“å‰å¯è§è¡Œæ˜Ÿçš„æœ€å¤§AUåŠå¾„ï¼Œç”¨äºè®¡ç®—ç¼©æ”¾
      let dynamicScale = 30; // æ¯AUå¯¹åº”çš„åƒç´ å€¼
      let currentFlightTargetKey = null; // å½“å‰ç›®æ ‡è¡Œæ˜Ÿçš„é”®

      // çª—å£å¤§å°å˜åŒ–æ—¶è°ƒæ•´Canvas
      function resize() {
        w = canvas.width = window.innerWidth;
        h = canvas.height = window.innerHeight;
        cx = w / 2; // ä¸­å¿ƒX
        cy = h / 2; // ä¸­å¿ƒY
        calculateDynamicScale(); // çª—å£å˜åŒ–æ—¶é‡æ–°è®¡ç®—ç¼©æ”¾
      }
      window.addEventListener('resize', resize);

      // è®¡ç®—åŠ¨æ€ç¼©æ”¾æ¯”ä¾‹
      function calculateDynamicScale() {
        // ä½¿ç”¨æœ€çŸ­è¾¹é•¿çš„85%ä½œä¸ºæœ€å¤§å¯ç”¨äºè½¨é“çš„åƒç´ åŠå¾„
        const paddingRatio = 0.85;
        const maxRadiusPx = Math.min(w, h) / 2 * paddingRatio;

        // ç¡®ä¿ currentMaxAU è‡³å°‘ä¸ºåœ°çƒè½¨é“ (1.0 AU)
        const effectiveMaxAU = Math.max(currentMaxAU, 1.0);

        dynamicScale = maxRadiusPx / effectiveMaxAU;
      }

      // æ›´æ–°å½“å‰å¯è§è¡Œæ˜Ÿçš„æœ€å¤§AUåŠå¾„
      function updateMaxAU() {
        let maxR = 1.0; // å§‹ç»ˆåŒ…å«åœ°çƒè½¨é“
        for (const key in ORBITS) {
          if (planetVisibility[key] && ORBITS[key].r > maxR) {
            maxR = ORBITS[key].r;
          }
        }
        currentMaxAU = maxR;
        calculateDynamicScale(); // æ›´æ–° AU åç«‹å³è®¡ç®—æ–°çš„ç¼©æ”¾æ¯”ä¾‹
      }


      // å¡«å……UIé¢æ¿çš„å›¾ä¾‹å’ŒæŒ‰é’®
      function initializeUI() {
        const controls = document.getElementById('planet-controls');
        const buttons = document.getElementById('launch-buttons');

        let controlHtml = '';
        let buttonHtml = '';

        for (const key in ORBITS) {
          const p = ORBITS[key];

          // é»˜è®¤æ‰€æœ‰è¡Œæ˜Ÿå¯è§
          planetVisibility[key] = true;

          // Control HTML (è¡Œæ˜Ÿé€‰æ‹©å™¨)
          const isEarth = key === 'earth';
          const disableCheck = isEarth ? 'disabled' : '';
          const initialCheck = 'checked';

          controlHtml += `
                <label class="flex items-center cursor-pointer justify-between p-1 hover:bg-gray-800 rounded">
                    <div class="flex items-center">
                        <input type="checkbox" id="check-${key}" ${initialCheck} ${disableCheck} class="form-checkbox h-4 w-4 text-indigo-500 rounded border-gray-600 bg-gray-700" data-planet="${key}">
                        <span class="legend-dot ml-2" style="background:${p.color}; box-shadow: 0 0 5px ${p.color};"></span>
                        <span class="ml-1 text-gray-300">${p.name} (${(p.r).toFixed(2)} AU)${isEarth ? ' (å›ºå®š)' : ''}</span>
                    </div>
                </label>
            `;

          // Button HTML (ä»…é™éåœ°çƒç›®æ ‡)
          if (!isEarth) {
            // æ ¼å¼åŒ–æ—¶é—´
            const days = p.launchTime;
            const years = Math.floor(days / 365);
            const timeStr = years > 0 ? `~${years} å¹´` : `~${days} å¤©`;

            buttonHtml += `
                    <button id="btn-launch-${key}" class="btn" data-target="${key}">
                        <span>ğŸš€ å‘å°„è‡³ ${p.name}</span>
                        <span class="text-xs opacity-70">${timeStr}</span>
                    </button>
                `;
          }
        }

        controls.innerHTML = controlHtml;
        buttons.innerHTML = buttonHtml;

        // ç»‘å®š Launch äº‹ä»¶
        document.querySelectorAll('.btn').forEach(button => {
          button.addEventListener('click', (e) => {
            const targetKey = e.currentTarget.getAttribute('data-target');
            if (targetKey) launchProbe(targetKey);
          });
        });

        // ç»‘å®š Visibility toggle äº‹ä»¶
        document.querySelectorAll('#planet-controls input[type="checkbox"]').forEach(checkbox => {
          checkbox.addEventListener('change', (e) => {
            const key = e.target.getAttribute('data-planet');
            if (key === 'earth') return; // åœ°çƒå§‹ç»ˆå¯è§

            const isChecked = e.target.checked;
            planetVisibility[key] = isChecked;

            // åˆ‡æ¢å‘å°„æŒ‰é’®çš„å¯è§æ€§
            const launchBtn = document.getElementById(`btn-launch-${key}`);
            if (launchBtn) {
              launchBtn.style.display = isChecked ? 'flex' : 'none';
            }

            // é‡æ–°è®¡ç®—æœ€å¤§AUå¹¶è°ƒæ•´ç¼©æ”¾
            updateMaxAU();
          });
        });

        // åˆå§‹åŒ–ç¼©æ”¾
        updateMaxAU();
      }

      // ç»˜å›¾è¾…åŠ©å‡½æ•°
      function drawOrbit(auRadius) {
        if (auRadius < 0.1) return; // å¿½ç•¥å¤ªå°çš„è½¨é“
        const r_px = auRadius * dynamicScale;

        ctx.beginPath();
        ctx.strokeStyle = 'rgba(255, 255, 255, 0.1)';
        ctx.lineWidth = 1;
        ctx.arc(cx, cy, r_px, 0, Math.PI * 2);
        ctx.stroke();
      }

      function drawPlanet(planet) {
        const r_px = planet.r * dynamicScale;
        const x = cx + Math.cos(planet.angle) * r_px;
        const y = cy + Math.sin(planet.angle) * r_px;

        // ç»˜åˆ¶è¡Œæ˜Ÿå’Œå…‰æ™•
        ctx.beginPath();
        ctx.fillStyle = planet.color;
        ctx.shadowBlur = 15;
        ctx.shadowColor = planet.color;
        ctx.arc(x, y, planet.size, 0, Math.PI * 2);
        ctx.fill();
        ctx.shadowBlur = 0;

        // ç»˜åˆ¶æ ‡ç­¾
        ctx.fillStyle = 'rgba(255,255,255,0.7)';
        ctx.font = '11px Arial';
        ctx.fillText(planet.name, x + 12, y + 4);
      }

      function drawSun() {
        // ç»˜åˆ¶å¤ªé˜³
        ctx.beginPath();
        ctx.fillStyle = '#fbbf24';
        ctx.shadowBlur = 40;
        ctx.shadowColor = '#fbbf24';
        ctx.arc(cx, cy, 14, 0, Math.PI * 2);
        ctx.fill();
        ctx.shadowBlur = 0;
        ctx.fillStyle = 'white';
        ctx.font = '12px Arial';
        ctx.fillText("å¤ªé˜³", cx - 12, cy + 30);
      }

      // ä¸»å¾ªç¯
      function animate() {
        ctx.fillStyle = '#050505'; // å®‡å®™é»‘è‰²èƒŒæ™¯
        ctx.fillRect(0, 0, w, h);

        drawSun();
        calculateDynamicScale(); // æ¯æ¬¡ç»˜å›¾å‰é‡æ–°è®¡ç®—ä¸€æ¬¡åŠ¨æ€æ¯”ä¾‹å°º

        // 1. æ›´æ–°å¹¶ç»˜åˆ¶è¡Œæ˜Ÿ
        for (let key in ORBITS) {
          // æ£€æŸ¥è¡Œæ˜Ÿæ˜¯å¦å¯è§
          if (!planetVisibility[key]) continue;

          const p = ORBITS[key];
          drawOrbit(p.r); // ä¼ å…¥AUåŠå¾„
          // è¡Œæ˜ŸæŒç»­å…¬è½¬
          p.angle += 0.005 * p.speed;
          drawPlanet(p);
        }

        // 2. æ›´æ–°å¹¶ç»˜åˆ¶æ¢æµ‹å™¨
        updateProbes();

        requestAnimationFrame(animate);
      }

      function updateProbes() {
        const timeCounter = document.getElementById('time-counter');
        const statusText = document.getElementById('flight-status');
        const missionLog = document.getElementById('probe-status-text'); // æ¢æµ‹å™¨çŠ¶æ€å…ƒç´ 

        if (probes.length === 0) {
          // æ²¡æœ‰æ´»åŠ¨æ¢æµ‹å™¨æ—¶ï¼Œé‡ç½®çŠ¶æ€æ˜¾ç¤º
          missionLog.innerHTML = "æ— æ´»åŠ¨ä»»åŠ¡ã€‚";
          timeCounter.innerText = "T+ 00å¤©";
          timeCounter.style.color = '#00ff00';
          statusText.innerText = "ç­‰å¾…å‘å°„æŒ‡ä»¤...";
          statusText.style.color = "#aaa";
        }

        for (let i = probes.length - 1; i >= 0; i--) {
          let p = probes[i];

          if (p.progress < 1) {
            p.progress += p.stepSize; // æ¨è¿›é£è¡Œè¿›åº¦

            // è®¡ç®—æ¨¡æ‹Ÿæ—¶é—´
            const currentDays = Math.floor(p.progress * p.totalDays);
            const years = Math.floor(currentDays / 365);
            const daysLeft = currentDays % 365;

            let timeStr = `T+ ${currentDays}å¤©`;
            if (years > 0) timeStr = `T+ ${years}å¹´ ${daysLeft}å¤©`;

            timeCounter.innerText = timeStr;
            timeCounter.style.color = p.progress > 0.9 ? '#4ade80' : '#00ff00';

            // --- æ›²çº¿è½¨è¿¹é€»è¾‘ (éœæ›¼è½¬ç§»è½¨é“æ¨¡æ‹Ÿ) ---

            // åŠå¾„å˜åŒ– (AU): ä»åœ°çƒAUåŠå¾„å¹³æ»‘è¿‡æ¸¡åˆ°ç›®æ ‡è¡Œæ˜ŸAUåŠå¾„
            const currentR_au = p.startR_au + (p.targetR_au - p.startR_au) * Math.sin(p.progress * Math.PI / 2);

            // è§’åº¦å˜åŒ–ï¼šä»èµ·å§‹è§’åº¦åˆ°æ€»è½¬è§’è¿›è¡Œæ’å€¼
            const currentAngle = p.startAngle + (p.totalDeltaAngle * p.progress);

            // è½¬æ¢æˆåƒç´ åæ ‡
            const currentR_px = currentR_au * dynamicScale;

            p.x = cx + Math.cos(currentAngle) * currentR_px;
            p.y = cy + Math.sin(currentAngle) * currentR_px;

            // ç»˜åˆ¶æ¢æµ‹å™¨ï¼ˆè“é’è‰²å°ç‚¹ï¼‰
            ctx.beginPath();
            ctx.fillStyle = '#00ffff';
            ctx.shadowBlur = 8;
            ctx.shadowColor = '#00ffff';
            ctx.arc(p.x, p.y, 4, 0, Math.PI * 2);
            ctx.fill();
            ctx.shadowBlur = 0;

            // ç»˜åˆ¶è½¨è¿¹
            p.trail.push({ x: p.x, y: p.y });
            if (p.trail.length > 500) p.trail.shift(); // å¢åŠ è½¨è¿¹é•¿åº¦ä»¥é€‚åº”æ›´é•¿/æ›´å¤§çš„è½¨é“

            ctx.beginPath();
            ctx.strokeStyle = 'rgba(0, 255, 255, 0.5)';
            ctx.lineWidth = 1.5;
            if (p.trail.length > 0) {
              ctx.moveTo(p.trail[0].x, p.trail[0].y);
              for (let pt of p.trail) ctx.lineTo(pt.x, pt.y);
            }
            ctx.stroke();

            // æ›´æ–°ä»»åŠ¡æ—¥å¿—é¢æ¿
            const targetName = ORBITS[p.targetKey].name;
            const progressPercent = (p.progress * 100).toFixed(1);

            missionLog.innerHTML = `
                    ç›®æ ‡: <span class="text-indigo-400">${targetName}</span><br>
                    è¿›åº¦: <span class="text-green-400">${progressPercent}%</span>
                `;

          } else {
            // æŠµè¾¾ç›®æ ‡
            statusText.innerText = "ä»»åŠ¡å®Œæˆï¼šæˆåŠŸæŠµè¾¾ " + ORBITS[p.targetKey].name;
            statusText.style.color = "#4ade80";
            enableButtons(); // é‡æ–°å¯ç”¨æŒ‰é’®
            probes.splice(i, 1); // ç§»é™¤æ¢æµ‹å™¨
            // ä»»åŠ¡å®Œæˆï¼Œæ¸…é™¤æ—¥å¿—
            missionLog.innerHTML = "ä»»åŠ¡å®Œæˆï¼Œæ¢æµ‹å™¨å·²æŠµè¾¾ã€‚";
          }
        }
      }

      // è§’åº¦å½’ä¸€åŒ–è¾…åŠ©å‡½æ•° (ç¡®ä¿è§’åº¦åœ¨ 0 åˆ° 2*PI ä¹‹é—´)
      const normalizeAngle = angle => (angle % (Math.PI * 2) + Math.PI * 2) % (Math.PI * 2);

      function launchProbe(targetKey) {
        const earth = ORBITS['earth'];
        const target = ORBITS[targetKey];

        // åœ¨å‘å°„æ—¶è®¾ç½®å½“å‰ç›®æ ‡é”®ï¼Œå¹¶ç¦ç”¨æ‰€æœ‰æŒ‰é’®
        currentFlightTargetKey = targetKey;
        disableButtons();

        document.getElementById('flight-status').innerText = "é£è¡Œä¸­ - ç›®æ ‡: " + target.name;
        document.getElementById('flight-status').style.color = "#fbbf24";

        // é£è¡Œå‚æ•°é…ç½®
        const totalDays = target.launchTime; // ä»è¡Œæ˜Ÿæ•°æ®ä¸­è·å–é¢„è®¾æ—¶é—´
        // æ ¹æ®è·ç¦»è°ƒæ•´åŠ¨ç”»æ—¶é•¿ï¼Œç¡®ä¿è¾ƒè¿œä»»åŠ¡æœ‰æ›´é•¿çš„åŠ¨ç”»å¸§æ•°
        const flightDurationFrames = targetKey === 'neptune' ? 1000 : (targetKey === 'uranus' ? 800 : (targetKey === 'saturn' ? 600 : 400));

        const stepSize = 1 / flightDurationFrames;

        // --- ç›®æ ‡æ‹¦æˆªè§’åº¦è®¡ç®—é€»è¾‘ ---

        // 1. è®¡ç®—æœªæ¥ç›®æ ‡è¡Œæ˜Ÿçš„ä½ç½®
        const planetAngularSpeed = 0.005 * target.speed;
        const futureAngleOffset = planetAngularSpeed * flightDurationFrames;

        // å½’ä¸€åŒ–è§’åº¦
        const normStartAngle = normalizeAngle(earth.angle);
        const normTargetCurrentAngle = normalizeAngle(target.angle);
        const normTargetFutureAngle = normalizeAngle(normTargetCurrentAngle + futureAngleOffset);

        // 2. è®¡ç®—é£èˆ¹æ‰€éœ€çš„æ€»è½¬è§’ (Prograde shortest path to intercept angle)
        let rawDelta = normTargetFutureAngle - normStartAngle;

        // å¼ºåˆ¶é¡ºè¡Œï¼ˆé€†æ—¶é’ˆï¼‰
        while (rawDelta < 0) {
          rawDelta += Math.PI * 2;
        }

        let totalDeltaAngle = rawDelta;

        // 3. ä¿®æ­£/ç›¸ä½è°ƒæ•´æ¨¡æ‹Ÿ: 
        if (totalDeltaAngle < Math.PI) {
          // ä¿®æ­£ï¼šå¢åŠ ä¸€åœˆ (360åº¦/2*PI)ï¼Œæ¨¡æ‹Ÿç›¸ä½ç­‰å¾…
          totalDeltaAngle += Math.PI * 2;
        }

        // åˆ›å»ºæ¢æµ‹å™¨å¯¹è±¡ - å­˜å‚¨ AU åŠå¾„
        probes.push({
          startR_au: earth.r,
          targetR_au: target.r,
          startAngle: earth.angle, // çœŸå®èµ·å§‹è§’åº¦
          totalDeltaAngle: totalDeltaAngle, // æœ€ç»ˆç¡®å®šçš„æ€»é£è¡Œè§’åº¦
          progress: 0,
          stepSize: stepSize,
          totalDays: totalDays,
          targetKey: targetKey,
          trail: []
        });
      }

      function disableButtons() {
        document.querySelectorAll('.btn').forEach(button => {
          button.disabled = true;
        });
      }

      function enableButtons() {
        // åªé‡æ–°å¯ç”¨å¯è§çš„å‘å°„æŒ‰é’®
        document.querySelectorAll('.btn').forEach(button => {
          const targetKey = button.getAttribute('data-target');
          if (planetVisibility[targetKey]) {
            button.disabled = false;
          }
        });
      }


      // å¯åŠ¨UIå’ŒåŠ¨ç”»
      resize();
      initializeUI();
      animate();
    })();
  </script>
</body>

</html>
  </div>
</article>

    </div>
    
    <footer id="footer">
  <div class="footer-left">
    Copyright &copy; 2025 Sydeny ,<br />
    Powered by the Hexo's theme of
    <a target="_blank" rel="noopener" href="https://github.com/sergodeeva/cactus-white"> cacuts-white </a>
  </div>
  <div class="footer-right">
    <nav>
      <ul>
        
        <li><a href="/">Home</a></li>
        
        <li><a href="/categories/">Category</a></li>
        
        <li><a href="/about/">About</a></li>
        
      </ul>
    </nav>
  </div>
</footer>

</body>
</html>
<!-- styles -->

<link rel="stylesheet" href="/lib/font-awesome/css/font-awesome.min.css">


<link rel="stylesheet" href="/lib/meslo-LG/styles.css">


<link rel="stylesheet" href="/lib/justified-gallery/justifiedGallery.min.css">


<!-- jquery -->

<script src="/lib/jquery/jquery.min.js"></script>


<script src="/lib/justified-gallery/jquery.justifiedGallery.min.js"></script>


<script src="/js/main.js"></script>



    <!-- Google Analytics -->
    <script type="text/javascript">
        (function(i,s,o,g,r,a,m) {i['GoogleAnalyticsObject']=r;i[r]=i[r]||function() {
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');
        ga('create', 'UA-37473492-6', 'auto');
        ga('send', 'pageview');
    </script>



